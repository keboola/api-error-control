sudo: required

language: php
php:
  - '7.2'

services:
  - docker

before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - export GIT_COMMIT_SHA=$TRAVIS_COMMIT
  - export GIT_BRANCH=$TRAVIS_BRANCH
  - ./cc-test-reporter before-build
script:
  - composer install
  - composer ci
after_success:
  - ./cc-test-reporter after-build --exit-code 0 --debug

notifications:
  email: false
  slack:
    secure: hS+RM5SNqO/BvA0UeM+F5sGUhQZq7iviUZd//0583KS1nCVnyzzRGDlK/v7gWY9qJGMxzrsM4OdD0izrWAQ9HA87z4jlMq2R4DbzGDOqxTBDz6EFwWl1qP+VJYw+oqwmUikLOx8BZn830vxvc9bfOFY5IJFGsZr9djqLJ9Tf0PkmmYd86BWOsL8TPRsu8pSa5PskO7x/lIv1AELUhc0lT2ti8/oVM9cI4hF/QRqOLGfWH1biBD/6pzku7AWOMXp6rJmubldDxOCjY87mVdeT3vGhyLyVs713ZV3nVzyRAgNmwVyhFr1mN8hawShysKN0gI+aCp5UMoabLr2DFimi7PpSsV9Rdqy73RvZfJirzxsPr/2h/sLHoF6F4a7DcXo8hIx2zuFKnd1rMYmY8TrzzGPDXroXgvuRtY1dH36REHoDR6TY+SnoJ2bXFvEZxgdeIKfFJt6iQOgFuZxtKgcfmgV3uP65wdYoRMAH++0ixZyTRn4hjuIXThg2/x9TI3+TVC7oVjQK3UHVyBjQd2KV11rsvH4P+WGC7DUQSwKb3TxkRm2506gsmGy2bFKVtQyjtC6f+kniozncljfdR71M/SCICJyJpgM2rW/yt09bNwCkj9YbrRUmwTeOlCAkxnNuiSCxwF3U2WqlMyURE0CqThUSH1ULs4179MP5JSm3/vk=
