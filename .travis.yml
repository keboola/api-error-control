sudo: required

language: php
php:
  - '7.2'

services:
  - docker

before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - export GIT_COMMIT_SHA=$TRAVIS_COMMIT
  - export GIT_BRANCH=$TRAVIS_BRANCH
  - ./cc-test-reporter before-build
script:
  - composer install
  - composer ci
after_success:
  - ./cc-test-reporter after-build --exit-code 0 --debug

notifications:
  email: false
  slack:
    secure: Qwxbyf729h/HB7Zt5xIMf0ASHWvCPwUIz6u4vdrOLXD7sprXKvXkCDPb1Y8+J7I3jyc6nKOyY6vmVuFVBFU1eZH93Ct+vAgi+94RwMVq1J3GZB0BiS/C+Ygpu7BrhKirziq/AkLfj290O9fkqSnAEwQEECwD5CCtk4mHZIPcJiHC4K3ocEeuRDmgFo4K6vD7/gdkV1ZD7bI8HRXkCLr1mRHBuZsVIPkbWBDY3VtzMv2p/Z0Rr9EODA/3zWcrJ4PsBWbUvwRZy0iLTvgsOqAxxinLu7qofFTxrf5AKKATBdNRwzEHmBeIpWQOIoGtmUKTwDWl/6dysdFRDbCKMac5fQcdc8VMDicCiKdjJRDkCdDkLPJtRG7yUh83dlQKVQBYWcvt5bA0rJYNwzY3U7OALdIbh5a+ND76PrZLtXBRwCgRvNoQT60bX8H1ygKNRNDKWG7rhKEERLmyamynK8CzDQ/8Any+Qq6LnwmSb7yBpmEM6xj1TPvZcX9aVv+fZHELjyDgxe9FhprPyz8bwOqO/pxZe8/seeyQFIf6BhyoUo19849OcCu1YRabezbM2NavwK5lUNr6tNNSl7fDqOXIWHdT8gTo57cQ/0GVCryDkl2GkTmabTF8eP6tHYD0yK62/M61d7Zt1e16fSBagkoOacszU6lOsmySqh/F9jlUn3U=
